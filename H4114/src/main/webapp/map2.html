<!--<div>
    <!--<p id="demo" style="height: 30px; width: 100%;"></p>-->
    <div id="map" style="height: 100%; width: 100%;"></div>

    

<script type="text/javascript" src="./js/map.js"></script>

<script>
    var latitude;
    var longitude;

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            alert("Geolocation is not supported by this browser");
        }
    }

    function showPosition(position) {
        latitude = position.coords.latitude;
        longitude = position.coords.longitude;
        initMap(latitude, longitude);
        console.log(latitude);
        console.log(longitude);
    }

                    function initMap(lat, long) {
                        var location = {lat: lat, lng: long};
                        var map = new google.maps.Map(document.getElementById("map"), {
                            zoom: 19,
                            scaleControl: false,
                            fullscreenControl: false,
                            zoomControl: false,
                            center: location,
                            mapTypeControl: true,
                            mapTypeControlOptions: {
                                style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                                mapTypeIds: ['roadmap', 'satellite'],
                                position: google.maps.ControlPosition.LEFT_BOTTOM
                            }});

                        var controlDiv = document.createElement('div');

                        // Set CSS for the control border
                        var controlUI = document.createElement('div');
                        controlUI.style.backgroundColor = 'red';
                        controlUI.style.border = '2px solid #fff';
                        controlUI.style.cursor = 'pointer';
                        controlUI.style.marginTop = '22px';
                        controlUI.style.marginLeft = '22px';
                        controlUI.style.textAlign = 'center';
                        controlUI.title = 'Click to recenter the map';
                        controlDiv.appendChild(controlUI);
                        // Set CSS for the control interior
                        var controlText = document.createElement('div');
                        controlText.style.color = 'rgb(255,255,255)';
                        controlText.style.fontFamily = 'Roboto,Arial,sans-serif';
                        controlText.style.fontSize = '16px';
                        controlText.style.lineHeight = '38px';
                        controlText.style.paddingLeft = '5px';
                        controlText.style.paddingRight = '5px';
                        controlText.innerHTML = 'New Rally';
                        controlUI.appendChild(controlText);
                        controlUI.addEventListener('click', function () {
                            newRally();
                        });
                        controlDiv.index = 1;
                        map.controls[google.maps.ControlPosition.TOP_LEFT].push(controlDiv);

                        var marker = new google.maps.Marker({
                            position: location,
                            map: map,
                            icon: {url: "./icons/man-blue-user.png"}
                        });
                        /*var marker1 = new google.maps.Marker({
                            position: {lat: 45.782019, lng: 4.872554},
                            map: map,
                            icon: {url: "./icons/man-red-user.png"}
                        });
                        var marker2 = new google.maps.Marker({
                            position: {lat: 45.781980, lng: 4.872514},
                            map: map,
                            icon: {url: "./icons/man-red-user.png"}
                        });
                        var marker3 = new google.maps.Marker({
                            position: {lat: 45.782039, lng: 4.872470},
                            map: map,
                            icon: {url: "./icons/man-red-user.png"}
                        });
                        var marker4 = new google.maps.Marker({
                            position: {lat: 45.782048, lng: 4.872501},
                            map: map,
                            icon: {url: "./icons/man-red-user.png"}
                        });*/
                    }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCyfR4HiGWGxQ7CiwH4VGEh0qjaL6LYv1M&callback=getLocation">
</script>


